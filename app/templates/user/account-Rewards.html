{% extends "user/userbase.html" %}
{% load static %}
{% block title %}My Rewards - Thrayam{% endblock %}
{% block content %}
<div class="col-lg-9 col-md-8 col-12">
  <div class="py-6 p-md-6 p-lg-10">

    <!-- SuperCoin Section -->
    <div class="col-lg-9 col-md-8 col-12">
  <div class="py-6 p-md-6 p-lg-10">
    <div class="d-flex align-items-center mb-4">
      <img src="{% static 'assets/images/icons/Supercoin.png' %}" width="50" class="me-2">
      <h2 class="fw-bold mb-0">My SuperCoins</h2>
    </div>

    <div class="card p-4 mb-4">
      <h4 class="fw-semibold mb-2">Total Coins: <span class="text-warning">{{ total_coins }}</span></h4>
      <p class="text-muted mb-0">Earn 1 coin for every ₹100 you spend.</p>
    </div>

    <h5 class="fw-bold mb-3">Recent Rewards</h5>
    <table class="table table-striped align-middle">
      <thead class="bg-light">
        <tr>
          <th>Date</th>
          <th>Source</th>
          <th>Coins Earned</th>
        </tr>
      </thead>
      <tbody>
        {% if rewards %}
          {% for r in rewards %}
          <tr>
            <td>{{ r.created_at|date:"M d, Y" }}</td>
            <td>{{ r.source }}</td>
            <td class="fw-semibold text-warning">+{{ r.coins_earned }}</td>
          </tr>
          {% endfor %}
        {% else %}
          <tr><td colspan="3" class="text-center text-muted">No rewards yet.</td></tr>
        {% endif %}
      </tbody>
    </table>
  </div>
</div>
          

    <!-- Coupons Section -->
    <div class="border-top pt-5">
      <h4 class="fw-semibold mb-4">Available Coupons</h4>

      <div class="row g-4">
        <!-- Demo Coupon 1 -->
        <div class="col-md-6 col-lg-4">
          <div class="border rounded-3 p-4 bg-white shadow-sm h-100">
            <div class="d-flex align-items-center mb-3">
              <img src="https://cdn-icons-png.flaticon.com/512/906/906343.png" alt="coupon" width="40" class="me-2">
              <h6 class="mb-0 fw-semibold">FLAT ₹100 OFF</h6>
            </div>
            <p class="text-muted small mb-2">On orders above ₹999</p>
            <span class="badge bg-success">Use Code: SAVE100</span>
          </div>
        </div>

        <!-- Demo Coupon 2 -->
        <div class="col-md-6 col-lg-4">
          <div class="border rounded-3 p-4 bg-white shadow-sm h-100">
            <div class="d-flex align-items-center mb-3">
              <img src="https://cdn-icons-png.flaticon.com/512/679/679720.png" alt="coupon" width="40" class="me-2">
              <h6 class="mb-0 fw-semibold">20% OFF</h6>
            </div>
            <p class="text-muted small mb-2">On fashion & accessories</p>
            <span class="badge bg-info text-dark">Use Code: STYLE20</span>
          </div>
        </div>

        <!-- Demo Coupon 3 -->
        <div class="col-md-6 col-lg-4">
          <div class="border rounded-3 p-4 bg-white shadow-sm h-100">
            <div class="d-flex align-items-center mb-3">
              <img src="https://cdn-icons-png.flaticon.com/512/888/888879.png" alt="coupon" width="40" class="me-2">
              <h6 class="mb-0 fw-semibold">FREE DELIVERY</h6>
            </div>
            <p class="text-muted small mb-2">On your next 3 orders</p>
            <span class="badge bg-primary">Use Code: FREESHIP</span>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
{% endblock %}
